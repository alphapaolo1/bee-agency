<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PK Match Registration</title>
  <style>
    :root{
      --bg1:#070814; --bg2:#0b1228;
      --stroke: rgba(255,255,255,.14);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.70);
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family:system-ui, -apple-system, Segoe UI, Roboto, Arial;
      color:var(--text);
      background:
        radial-gradient(1100px 600px at 20% 10%, rgba(255,215,0,.12), transparent 60%),
        radial-gradient(900px 500px at 80% 30%, rgba(120,180,255,.12), transparent 60%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
      min-height:100vh;
    }
    .wrap{max-width:860px; margin:0 auto; padding:28px 16px 60px}
    .top{display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom:14px}
    a{color:var(--text); text-decoration:none; opacity:.9}
    a:hover{opacity:1}
    .card{
      border:1px solid var(--stroke);
      background:rgba(0,0,0,.18);
      border-radius:20px;
      padding:16px;
      backdrop-filter: blur(8px);
    }
    h1{margin:0 0 6px; font-size:26px}
    p{margin:8px 0; color:var(--muted); line-height:1.45}
    label{display:block; font-weight:800; margin:12px 0 6px}
    input, select, textarea{
      width:100%;
      padding:12px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color:var(--text);
      outline:none;
    }
    textarea{min-height:90px; resize:vertical}
    .row{display:grid; grid-template-columns: 1fr 1fr; gap:10px}
    @media (max-width:700px){.row{grid-template-columns:1fr}}
    .btn{
      width:100%;
      margin-top:14px;
      padding:13px 14px;
      border-radius:16px;
      border:1px solid rgba(255,215,0,.35);
      background: linear-gradient(180deg, rgba(255,215,0,.20), rgba(255,215,0,.06));
      color:var(--text);
      font-weight:900;
      cursor:pointer;
      transition:.18s transform ease, .18s opacity ease;
    }
    .btn:hover{transform: translateY(-1px)}
    .btn:disabled{opacity:.6; cursor:not-allowed; transform:none}
    .status{
      margin-top:10px;
      font-size:13px;
      color:var(--muted);
      word-break:break-word;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="top">
      <a href="index.html">← Back to Landing</a>
      <a href="thankyou.html">Thank You / Contact →</a>
    </div>

    <div class="card">
      <h1>PK Match Registration</h1>
      <p>Submit your request. This saves directly to your Google Sheet (via Apps Script) and works on GitHub Pages.</p>

      <form id="pkForm">
        <div class="row">
          <div>
            <label for="yourName">Your Name</label>
            <input id="yourName" name="yourName" placeholder="Your TikTok name / real name" required />
          </div>
          <div>
            <label for="opponentName">Opponent’s Name</label>
            <input id="opponentName" name="opponentName" placeholder="Opponent TikTok name" required />
          </div>
        </div>

        <div class="row">
          <div>
            <label for="pkDate">PK Match Date</label>
            <input id="pkDate" name="pkDate" type="datetime-local" required />
          </div>
          <div>
            <label for="booster">Booster?</label>
            <select id="booster" name="booster" required>
              <option value="" selected disabled>Choose…</option>
              <option value="No">No</option>
              <option value="Yes">Yes</option>
            </select>
          </div>
        </div>

        <label for="notes">Notes (optional)</label>
        <textarea id="notes" name="notes" placeholder="Any extra details…"></textarea>

        <button id="submitBtn" class="btn" type="submit">Confirm & Submit</button>
        <div id="status" class="status"></div>
      </form>
    </div>
  </div>

<script>
  const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbydi6hHTzf2Vo-Cm_BiMFfqQnpxw6R97zz6TYPgiTwCysJWqnaLGsMT9EBq2rBUKeLo/exec";

  const form = document.getElementById("pkForm");
  const statusEl = document.getElementById("status");
  const submitBtn = document.getElementById("submitBtn");

  form.addEventListener("submit", async (e) => {
    e.preventDefault();
    submitBtn.disabled = true;
    statusEl.textContent = "Submitting…";

    const payload = {
      yourName: document.getElementById("yourName").value.trim(),
      opponentName: document.getElementById("opponentName").value.trim(),
      pkDate: document.getElementById("pkDate").value,
      booster: document.getElementById("booster").value,
      notes: document.getElementById("notes").value.trim()
    };

    try {
      // no-cors = browser won't block cross-domain
      await fetch(SCRIPT_URL, {
        method: "POST",
        mode: "no-cors",
        headers: { "Content-Type": "text/plain;charset=utf-8" },
        body: JSON.stringify(payload)
      });

      statusEl.textContent = "✅ Submitted! Redirecting…";
      setTimeout(() => window.location.href = "thankyou.html", 700);

    } catch (err) {
      statusEl.textContent = "❌ Submit failed. Check Apps Script deployment access = Anyone.";
      submitBtn.disabled = false;
    }
  });
</script>
    }
  });
</script>
</body>
</html>
